{"ast":null,"code":"/*!\n * calendar.js: inspired by the calendar module from Python\n * Copyright(c) 2011 Luciano Ramalho <luciano@ramalho.org>\n * MIT Licensed\n */\nexports.version = '0.1.0';\n\nvar CalendarException = function CalendarException(message) {\n  this.message = message;\n\n  this.toString = function () {\n    return this.constructor.name + \": \" + this.message;\n  };\n};\n\nvar Calendar = function Calendar(firstWeekDay) {\n  //properties\n  this.firstWeekDay = firstWeekDay || 0; // 0 = Sunday\n};\n\nCalendar.prototype = {\n  constructor: Calendar,\n  weekStartDate: function weekStartDate(date) {\n    var startDate = new Date(date.getTime());\n\n    while (startDate.getDay() !== this.firstWeekDay) {\n      startDate.setDate(startDate.getDate() - 1);\n    }\n\n    return startDate;\n  },\n  monthDates: function monthDates(year, month, dayFormatter, weekFormatter) {\n    if (typeof year !== \"number\" || year < 1970) {\n      throw new CalendarException('year must be a number >= 1970');\n    }\n\n    ;\n\n    if (typeof month !== \"number\" || month < 0 || month > 11) {\n      throw new CalendarException('month must be a number (Jan is 0)');\n    }\n\n    ;\n    var weeks = [],\n        week = [],\n        i = 0,\n        date = this.weekStartDate(new Date(year, month, 1));\n\n    do {\n      for (i = 0; i < 7; i++) {\n        week.push(dayFormatter ? dayFormatter(date) : date);\n        date = new Date(date.getTime());\n        date.setDate(date.getDate() + 1);\n      }\n\n      weeks.push(weekFormatter ? weekFormatter(week) : week);\n      week = [];\n    } while (date.getMonth() <= month && date.getFullYear() === year);\n\n    return weeks;\n  },\n  monthDays: function monthDays(year, month) {\n    var getDayOrZero = function getDayOrZero(date) {\n      return date.getMonth() === month ? date.getDate() : 0;\n    };\n\n    return this.monthDates(year, month, getDayOrZero);\n  },\n  monthText: function monthText(year, month) {\n    if (typeof year === \"undefined\") {\n      var now = new Date();\n      year = now.getFullYear();\n      month = now.getMonth();\n    }\n\n    ;\n\n    var getDayOrBlank = function getDayOrBlank(date) {\n      var s = date.getMonth() === month ? date.getDate().toString() : \"  \";\n\n      while (s.length < 2) s = \" \" + s;\n\n      return s;\n    };\n\n    var weeks = this.monthDates(year, month, getDayOrBlank, function (week) {\n      return week.join(\" \");\n    });\n    return weeks.join(\"\\n\");\n  }\n};\nvar months = \"JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC\".split(\" \");\n\nfor (var i = 0; i < months.length; i++) Calendar[months[i]] = i;\n\nexports.Calendar = Calendar;","map":{"version":3,"sources":["/home/tashpjak/Projects/travel-agency/node_modules/calendar/lib/calendar.js"],"names":["exports","version","CalendarException","message","toString","constructor","name","Calendar","firstWeekDay","prototype","weekStartDate","date","startDate","Date","getTime","getDay","setDate","getDate","monthDates","year","month","dayFormatter","weekFormatter","weeks","week","i","push","getMonth","getFullYear","monthDays","getDayOrZero","monthText","now","getDayOrBlank","s","length","join","months","split"],"mappings":"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","sourcesContent":["/*!\n * calendar.js: inspired by the calendar module from Python\n * Copyright(c) 2011 Luciano Ramalho <luciano@ramalho.org>\n * MIT Licensed\n */\n\nexports.version = '0.1.0';\n\nvar CalendarException = function CalendarException(message) {\n   this.message = message;\n   this.toString = function() {\n      return this.constructor.name + \": \" + this.message\n   };\n}\n\nvar Calendar = function Calendar(firstWeekDay) {\n    //properties\n    this.firstWeekDay = firstWeekDay || 0; // 0 = Sunday\n};\n\nCalendar.prototype = {\n    constructor : Calendar,\n    weekStartDate : function weekStartDate(date) {\n        var startDate = new Date(date.getTime());\n        while (startDate.getDay() !== this.firstWeekDay) {\n            startDate.setDate(startDate.getDate() - 1);\n        }\n        return startDate;\n    },\n    monthDates : function monthDates(year, month, dayFormatter, weekFormatter) {\n        if ((typeof year !== \"number\") || (year < 1970)) {\n            throw new CalendarException('year must be a number >= 1970');\n        };\n        if ((typeof month !== \"number\") || (month < 0) || (month > 11)) {\n            throw new CalendarException('month must be a number (Jan is 0)');\n        };\n        var weeks = [],\n            week = [],\n            i = 0,\n            date = this.weekStartDate(new Date(year, month, 1));\n        do {\n            for (i=0; i<7; i++) {\n                week.push(dayFormatter ? dayFormatter(date) : date);\n                date = new Date(date.getTime());\n                date.setDate(date.getDate() + 1);\n            }\n            weeks.push(weekFormatter ? weekFormatter(week) : week);\n            week = [];\n        } while ((date.getMonth()<=month) && (date.getFullYear()===year));\n        return weeks;\n    },\n    monthDays : function monthDays(year, month) {\n        var getDayOrZero = function getDayOrZero(date) {\n            return date.getMonth() === month ? date.getDate() : 0;\n        };\n        return this.monthDates(year, month, getDayOrZero);\n    },\n    monthText : function monthText(year, month) {\n        if (typeof year === \"undefined\") {\n            var now = new Date();\n            year = now.getFullYear();\n            month = now.getMonth();\n        };\n        var getDayOrBlank = function getDayOrBlank(date) {\n            var s = date.getMonth() === month ? date.getDate().toString() : \"  \";\n            while (s.length < 2) s = \" \"+s;\n            return s;\n        };\n        var weeks = this.monthDates(year, month, getDayOrBlank,\n            function (week) { return week.join(\" \") });\n        return weeks.join(\"\\n\");\n    }\n};\nvar months = \"JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC\".split(\" \");\nfor (var i=0; i<months.length; i++)\n    Calendar[months[i]] = i;\n\nexports.Calendar = Calendar;\n"]},"metadata":{},"sourceType":"script"}